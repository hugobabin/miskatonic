{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
    <h1 class="title mb-4">Dashboard</h1>

    <div class="grafana-wrapper">
      <iframe
        src="http://localhost:3000/public-dashboards/7cd8e5bc8a834811816c0119e49d58e3?refresh=5s"
        allowfullscreen
      ></iframe>
    </div>
  </div>
</section>

<style>
/* Container général, pour que ça reste fluide dans Bulma */
.grafana-wrapper {
  width: 100%;
  height: 70vh; /* ou 80vh selon ta préférence */
  overflow: hidden;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.15);
  background-color: #111;
  position: relative;
}

/* On réduit l’échelle interne pour que Grafana “rentre” mieux */
.grafana-wrapper iframe {
  width: 125%; /* plus large que le container pour compenser le zoom */
  height: 125%;
  transform: scale(0.8); /* dézoom */
  transform-origin: top left;
  border: none;
  position: absolute;
  top: 0;
  left: 0;
}
</style>
{% endblock %}
